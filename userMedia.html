<!DOCTYPE html>

<head>
  <title>Get User Media</title>
</head>

<body>
  <video autoplay></video>

  <script>
    var constraints = {
      audio: true,
      video: {
        mandatory: {
          width: { min: 320 },
          height: { min: 180 }
        },
        optional: [
          { width: { max: 1280 }},
          { frameRate: 30 },
          { facingMode: "user" }
        ]
      }
    }

    navigator.getUserMedia(constraints, gotStream, logError);

    function gotStream(stream) {
      var video = document.querySelector('video');
      video.src = window.URL.createObjectURL(stream);
    }

    function logError(error) { console.log(error) }
  </script>

</body>
